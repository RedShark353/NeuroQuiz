<!DOCTYPE html>
<html>
<head>
	<title>NeuroQuiz</title>
	<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
	<link rel="stylesheet" type="text/css" href="css/CustomQuizStyles.css">
</head>
<body onload="openModal()">

	<header id="main-header">
		<div class="container">
			<section id="headerTitle">
				<h1>NeuroQuiz</h1>
			</section>

			<section id="settings">
				<button class="dropbtn" onclick="dropDown()"></button>
				<div id="dropDown" class="dropdown-content">
				    <div id="totalQuestions">
				    	<p id="notice">Eφαρμόζονται από την επόμενη ερώτηση</p>
				    	<p>Αριθμός Ερωτήσεων</p>
				    	<button class="minus_btn" onclick="setQuestions(-1)">-</button>
				    	<p id="qNumber">5</p>
				    	<button class="plus_btn" onclick="setQuestions(1)">+</button>
				    </div>
				    <div id="totalAnswers">
				    	<p>Αριθμός Απαντήσεων</p>
				    	<button class="minus_btn" onclick="setAnswers(-1)">-</button>
				    	<p id="aNumber">4</p>
				    	<button class="plus_btn" onclick="setAnswers(1)">+</button>
				    </div>
			  </div>
			</section>
		</div>
	</header>

	<!-- The Modal -->
	<div id="myModal" class="modal">

	  <!-- Modal content -->
	  <div class="modal-content">
	    <span class="close">&times;</span>
	    <h4>Περιεχόμενα Quiz</h4>
	    <button id="allButton" onclick="checkAll()">Επιλογή όλων</button>
	    <button id="uncheckAllButton" onclick="uncheckAll()">Καθαρισμός όλων</button>
	    <input type="checkbox" id="cranialNervesCheckbox" name="modalCheckbox" value="Cranial Nerves">
		<label for="cranialNervesCheckbox">Εγκεφαλικές συζυγίες</label>
		<input type="checkbox" id="spinalTractsCheckBox" name="modalCheckbox" value="Spinal Tracts">
		<label for="spinalTractsCheckBox">Δεμάτια νωτιαίου μυελού</label>
		<input type="checkbox" id="imageOrientatedChecknox" name="modalCheckbox" value="Image Orientated">
		<label for="spinalTractsCheckBox">Εικόνες (Στέλεχος)</label>
    	<h4>Αριθμός Ερωτήσεων</h4>
    	<button class="minus_btn" onclick="customQuestions(-1)">-</button>
    	<p id="qCustom">5</p>
    	<button class="plus_btn" onclick="customQuestions(1)">+</button>
    	<h4>Αριθμός Απαντήσεων</h4>
    	<button class="minus_btn" onclick="customAnswers(-1)">-</button>
    	<p id="aCustom">4</p>
    	<button class="plus_btn" onclick="customAnswers(1)">+</button>
		<button onclick="startCustom()" id="startCustom">Έναρξη</button>
	  </div>

	</div>

	<section id="showcase">
		<div class="container">
			<img src="images/Brain.jpg">
		</div>
	</section>

	<div class="container">
		<section id="main-left">
			<div id="question">
				<h3 id="questionNumber"></h3>
				<div id="question_space">
					<img src="images/Tracts.jpg" id="question_img">
				</div>
				<h3 id="questionText"></h3>
				<button id="newQuiz" onclick="newQuiz()">Νέο Quiz</button>
				<a id="return" href="index.html">Επιστροφή στην Αρχική</a>
			</div>

			<div id="answers">
				<ul id="answerOptions"></ul>
			</div>

			<div id="answerEvaluation">
				<p id="result"></p>
				<button id="verify" onclick="verify()">Επαλήθευση</button>
				<button id="next" onclick="nextQuestion()">Επόμενο</button>
			</div>
		</section>

		<section id="main-right">
				<p id="score">0</p>
				<h3 id="scoreText">Score</h3>
		</section>
	</div>

	<footer id="main-footer">
		<p>Konstantinos Vrettos | Contact: theneuroquiz@gmail.com</p>
	</footer>

	<script type="text/javascript">

		//CONSTANTS
		var OPTIONS = 4;
		var TOTAL_QUESTIONS = 5;

		//DATA

		//Cranial Nerves
		var cn_I = new Map([
			["#", "I"],
			["name", "Οσφρητικό νεύρο"],
			["category", "Αισθητικό"],
			["emerging", "Δεν αναδύεται"],
			["nuclei", ["Παροσφρητική άλως", "Περιαμυγδαλοειδής φλοιός"]],
			["function", "Μετάδοση της αίσθησης της όσφρησης"],
			["position", "6"],
			["img", "images/cranialNerves.jpg"]
			]);

		var cn_II = new Map([
			["#", "II"],
			["name", "Οπτικό νεύρο"],
			["category", "Αισθητικό"],
			["emerging", "Δεν αναδύεται"],
			["nuclei", ["Πυρήνας έξω γονατώδους σώματος"]],
			["function", "Μετάδοση των οπτικών πληροφοριών"],
			["position", "7"],
			["img", "images/cranialNerves.jpg"]
			]);

		var cn_III = new Map([
			["#", "III"],
			["name", "Κοινό κινητικό νεύρο"],
			["category", "Μικτό"],
			["emerging", "Μεσοσκελιαίος βόθρος (μεσεγκέφαλος)"],
			["nuclei", ["Πυρήνας κοινού κινητικού", "Πυρήνας Edinger-Westphal"]],
			["function", "Νεύρωση ανελκτήρα άνω βλεφάρου, άνω, έσω, κάτω ορθού και κάτω λοξού μυών του οφθαλμικού βολβού"],
			["position", "5"],
			["img", "images/cranialNerves.jpg"]
			]);

		var cn_IV = new Map([
			["#", "IV"],
			["name", "Τροχιλιακό νεύρο"],
			["category", "Κινητικό"],
			["emerging", "Ραχιαία επιφάνεια στελέχους (μεσεγκέφαλος)"],
			["nuclei", ["Πυρήνας τροχιλιακού νεύρου"]],
			["function", "Νεύρωση άνω λοξού μυός του οφθαλμικού βολβού"],
			["position", "8"],
			["img", "images/cranialNerves.jpg"]
			]);

		var cn_V = new Map([
			["#", "V"],
			["name", "Τρίδυμο νεύρο"],
			["category", "Μικτό"],
			["emerging", "Πλάγια επιφάνεια γέφυρας"],
			["nuclei", ["Κύριος αισθητικός πυρήνας του τριδύμου", "Νωτιαίος πυρήνας του τριδύμου", "Μεσεγκεφαλικός πυρήνας του τριδύμου", "Κινητικός πυρήνας του τριδύμου"]],
			["function", "Αισθητική νεύρωση προσώπου και κινητική νεύρωση μυών μάσησης"],
			["position", "4"],
			["img", "images/cranialNerves.jpg"]
			]);

		var cn_VI = new Map([
			["#", "VI"],
			["name", "Απαγωγό νεύρο"],
			["category", "Κινητικό"],
			["emerging", "Οπίσθια γεφυρική αύλακα"],
			["nuclei", ["Πυρήνας απαγωγού νεύρου"]],
			["function", "Νεύρωση έξω ορθού μυός του οφθαλμικού βολβού"],
			["position", "9"],
			["img", "images/cranialNerves.jpg"]
			]);

		var cn_VII = new Map([
			["#", "VII"],
			["name", "Προσωπικό νεύρο"],
			["category", "Μικτό"],
			["emerging", "Υπερελαϊκό βοθρίο (γέφυρα)"],
			["nuclei", ["Κινητικός πυρήνας προσωπικού", "Άνω σιαλικός πυρήνας", "Πυρήνας της μονήρους δεσμίδας"]],
			["function", "Νεύρωση των μιμικών μυών του προσώπου, αίσθηση της γεύσης από τα πρόσθια 2/3 της γλώσσας, εκκριτική νεύρωση των σιελογόνων αδένων εκτός της παρωτίδας και του δακρυικού αδένα"],
			["position", "3"],
			["img", "images/cranialNerves.jpg"]
			]);

		var cn_VIII = new Map([
			["#", "VIΙΙ"],
			["name", "Στατικοακουστικό νεύρο"],
			["category", "Αισθητικό"],
			["emerging", "Υπερελαϊκό βοθρίο (γέφυρα)"],
			["nuclei", ["Κοχλιακοί πυρήνες", "Αιθουσαίοι πυρήνες"]],
			["function", "Αίσθηση της ακοής και της θέσης στο χώρο (ισορροπία, περιστροφή)"],
			["position", "10"],
			["img", "images/cranialNerves.jpg"]
			]);

		var cn_IX = new Map([
			["#", "IΧ"],
			["name", "Γλωσσοφαρυγγικό νεύρο"],
			["category", "Μικτό"],
			["emerging", "Οπίσθια παρελαϊκή αύλακα (προμήκης)"],
			["nuclei", ["Μικτός ή κοιλιακός πυρήνας", "Κάτω σιαλικός πυρήνας", "Πυρήνας της μονήρους δεσμίδας"]],
			["function", "Αίσθηση της γεύσης από το οπίσθιο 1/3 της γλώσσας, εκκριτική νεύρωση παρωτίδας, νεύρωση βελονοφαρυγγικού μυ"],
			["position", "2"],
			["img", "images/cranialNerves.jpg"]
			]);

		var cn_X = new Map([
			["#", "Χ"],
			["name", "Πνευμονογαστρικό νεύρο"],
			["category", "Μικτό"],
			["emerging", "Οπίσθια παρελαϊκή αύλακα (προμήκης)"],
			["nuclei", ["Μικτός ή κοιλιακός πυρήνας", "Ραχιαίος πυρήνας του πνευμονογαστρικού", "Πυρήνας της μονήρους δεσμίδας"]],
			["function", "Νεύρωση των μυών του λάρυγγα και του φάρυγγα, παρασυμπαθητικήνεύρωση των θωρακικών και κοιλιακών σπλάγχνων μέχρι τη σπληνική καμπή, αίσθηση της γεύσης από την επιγλωττίδα. Εξυπηρέτηση της κατάποσης και της φώνησης."],
			["position", "11"],
			["img", "images/cranialNerves.jpg"]
			]);

		var cn_XI = new Map([
			["#", "ΧI"],
			["name", "Παραπληρωματικό νεύρο"],
			["category", "Κινητικό"],
			["emerging", "Οπίσθια παρελαϊκή αύλακα"],
			["nuclei", ["Μικτός ή κοιλιακός πυρήνας (προμηκική μοίρα)", "Νωτιαίος πυρήνας του παραπληρωματικού (νωτιαία μοίρα)"]],
			["function", "Νεύρωση του στερνοκλειδομαστοειδούς και του τραπεζοειδούς μυών"],
			["position", "1"],
			["img", "images/cranialNerves.jpg"]
			]);

		var cn_XII = new Map([
			["#", "ΧΙΙ"],
			["name", "Υπογλώσσιο νεύρο"],
			["category", "Κινητικό"],
			["emerging", "Πρόσθια παρελαϊκή αύλακα (προμήκης)"],
			["nuclei", ["Πυρήνας του υπογλωσσίου"]],
			["function", "Νεύρωση μυών της γλώσσας και των κάτωθεν του υοειδούς μυών"],
			["position", "12"],
			["img", "images/cranialNerves.jpg"]
			]);

		//Supplementary for Cranial Nerves
		var cranial_nerves = [cn_I, cn_II, cn_III, cn_IV, cn_V, cn_VI, cn_VII, cn_VIII, cn_IX, cn_X, cn_XI, cn_XII];

		var cn_questions_text = new Map([
			["#", "Ποιός αριθμός αντιστοιχεί στο "],
			["name", "Πως λέγεται το νεύρο με αριθμό "],
			["category", "Τι είδους είναι το "],
			["emerging", "Από που αναδύεται το "],
			["nuclei", "Ποιός πυρήνας ανήκει στο "],
			["function", "Ποιά λειτουργία αντιστοιχεί στο "],
			["position", "Ποιός αριθμός αντιστοιχεί στο "]
			])

		var cn_questions = ["#", "category", "emerging", "nuclei", "function", "position"];

		//Spinal Tracts

		//Ascending
		var lateral_spinothalamic = new Map([
			["name", "Πλάγιο Νωτιαιοθαλαμικό δεμάτιο"],
			["crossing", "Οι νευρικές ίνες διέρχονται από τον πρόσθιο φαιό και λευκό σύνδεσμο και χιάζονται προς τα άνω, κατά ένα νευροτόμιο"],
			["function", "Άλγους και θερμοκρασίας"],
			["passing", "Επιχείλια ζώνη Lissauer"],
			["ending", "Κοιλιακός οπίσθιος έξω πυρήνας του θαλάμου"],
			["position", "9"],
			["type", "Ανιόν"],
			["img", "images/Tracts.jpg"]
			])

		var ventral_spinothalamic = new Map([
			["name", "Πρόσθιο Νωτιαιοθαλαμικό δεμάτιο"],
			["crossing", "Οι νευρικές ίνες διέρχονται από τον πρόσθιο φαιό και λευκό σύνδεσμο και χιάζονται προς τα άνω, κατά αρκετά νευροτόμια"],
			["function", "Αδρά αφή και πίεση"],
			["passing", "Επιχείλια ζώνη Lissauer"],
			["ending", "Κοιλιακός οπίσθιος έξω πυρήνας του θαλάμου"],
			["position", "8"],
			["type", "Ανιόν"],
			["img", "images/Tracts.jpg"]
			])

		var fasciculus_gracilis = new Map([
			["name", "Ισχνό δεμάτιο"],
			["crossing", "Γίνεται στον Αισθητικό Χιασμό"],
			["function", "Διακριτική αφή, παλαισθησία, κιναισθησία"],
			["passing", "Έσω λημνίσκος"],
			["ending", "Κοιλιακός οπίσθιος έξω πυρήνας του θαλάμου"],
			["position", "13"],
			["type", "Ανιόν"],
			["img", "images/Tracts.jpg"]
			])

		var fasciculus_cuneatus = new Map([
			["name", "Σφηνοειδές δεμάτιο"],
			["crossing", "Γίνεται στον Αισθητικό Χιασμό"],
			["function", "Διακριτική αφή, παλαισθησία, κιναισθησία"],
			["passing", "Έσω λημνίσκος"],
			["ending", "Κοιλιακός οπίσθιος έξω πυρήνας του θαλάμου"],
			["position", "12"],
			["type", "Ανιόν"],
			["img", "images/Tracts.jpg"]
			])

		var dorsal_spinocerebellar = new Map([
			["name", "Οπίσθιο νωτιαιοπαρεγκεφαλιδικό δεμάτιο"],
			["crossing", "Δεν χιάζεται"],
			["function", "Αισθητικότητα μυών και αρθρώσεων για την παρεγκεφαλίδα"],
			["passing", "Στήλη Clark (Ραχιαίος πυρήνας)"],
			["ending", "Ομόπλευρο ημιμόριο της παρεγκεφαλίδας"],
			["position", "11"],
			["type", "Ανιόν"],
			["img", "images/Tracts.jpg"]
			])

		var ventral_spinocerebellar = new Map([
			["name", "Πρόσθιο νωτιαιοπαρεγκεφαλιδικό δεμάτιο"],
			["crossing", "Ορισμένες νευρικές ίνες χιάζονται κατά τη μέση γραμμή, ενώ άλλες ανέρχονται ομόπλευρα"],
			["function", "Αισθητικότητα μυών και αρθρώσεων για την παρεγκεφαλίδα"],
			["passing", "Στήλη Clark (Ραχιαίος πυρήνας)"],
			["ending", "Παρεγκεφαλιδικός φλοιός"],
			["position", "10"],
			["type", "Ανιόν"],
			["img", "images/Tracts.jpg"]
			])

		var spinotectal = new Map([
			["name", "Νωτιαιοτετραδυμικό δεμάτιο"],
			["crossing", "Χιάζεται κατά τη μέση γραμμή"],
			["function", "Νωτιαιο-οπτικά αντανακλαστικά, κινήσεις οφθαλμών και κεφαλής προς την πηγή του ερεθίσματος"],
			["passing", "Πρόσθιο (άνω) διδύμιο"],
			["ending", "Πρόσθιο (άνω) διδύμιο"],
			["position", "Δεν εικονίζεται"],
			["type", "Ανιόν"],
			["img", "images/Tracts.jpg"]
			])

		var spinoreticular = new Map([
			["name", "Νωτιαιοδικτυωτό δεμάτιο"],
			["crossing", "Κατά το πλείστον είναι αχίαστο"],
			["function", "Παίζει σημαντικό ρόλο στη ρύθμιση των επιπέδων συνείδησης"],
			["passing", "Δικτυωτός σχηματισμός"],
			["ending", "Δικτυωτός σχηματισμός"],
			["position", "Δεν εικονίζεται"],
			["type", "Ανιόν"],
			["img", "images/Tracts.jpg"]
			])

		var Spino_olivary = new Map([
			["name", "Νωτιαιοελαιικό δεμάτιο"],
			["crossing", "Χιάζεται κατά τη μέση γραμμή"],
			["function", "Παίζει σημαντικό ρόλο στη ρύθμιση των επιπέδων συνείδησης"],
			["passing", "Κάτω ελαιικός πυρήνας προμήκους"],
			["ending", "Κάτω ελαιικός πυρήνας προμήκους"],
			["position", "7"],
			["type", "Ανιόν"],
			["img", "images/Tracts.jpg"]
			])

		//Descending
		var lateral_corticospinal = new Map([
			["name", "Πλάγιο φλοιονωτιαίο δεμάτιο"],
			["crossing", "Γίνεται στο Χιασμό των Πυραμίδων"],
			["function", "Εκούσιες, ξεχωριστές, επιδέξιες κινήσεις, ιδιαίτερα των περιφερικών τμημάτων των άκρων"],
			["passing", "Πυραμίδα του προμήκους"],
			["ending", "Συνδετικοί νευρώνες των πρόσθιων κεράτων του νωτιαίου µυελού"],
			["position", "15"],
			["type", "Κατιόν"],
			["img", "images/Tracts.jpg"]
			])

		var anterior_corticospinal = new Map([
			["name", "Πρόσθιο φλοιονωτιαίο δεμάτιο"],
			["crossing", "Χιάζεται κατά τη μέση γραμμή"],
			["function", "Εκούσιες, ξεχωριστές, επιδέξιες κινήσεις, ιδιαίτερα των περιφερικών τμημάτων των άκρων"],
			["passing", "Πυραμίδα του προμήκους"],
			["ending", "Συνδετικοί νευρώνες των πρόσθιων κεράτων αυχενικών και ανώτερων θωρακικών νευροτομίων"],
			["position", "14"],
			["type", "Κατιόν"],
			["img", "images/Tracts.jpg"]
			])

		var medial_reticulospinal = new Map([
			["name", "Πρόσθιο δικτυονωτιαίο δεμάτιο"],
			["crossing", "Δεν χιάζεται"],
			["function", "Διεγερτική δράση στους κινητικούς νευρώνες των πρόσθιων κεράτων του νωτιαίου µυελού"],
			["passing", "Πυρήνες του δικτυωτού σχηµατισµού του µέσου εγκεφάλου και της γέφυρας"],
			["ending", "Κινητικοί νευρώνες των πρόσθιων κεράτων του νωτιαίου µυελού"],
			["position", "3"],
			["type", "Κατιόν"],
			["img", "images/Tracts.jpg"]
			])

		var lateral_reticulospinal = new Map([
			["name", "Πλάγιο δικτυονωτιαίο δεμάτιο"],
			["crossing", "Δεν χιάζεται"],
			["function", "Ανασταλτική δράση στους κινητικούς νευρώνες των πρόσθιων κεράτων του νωτιαίου µυελού"],
			["passing", "Πυρήνες του δικτυωτού σχηµατισµού του προμήκους"],
			["ending", "Κινητικοί νευρώνες των πρόσθιων κεράτων του νωτιαίου µυελού"],
			["position", "2"],
			["type", "Κατιόν"],
			["img", "images/Tracts.jpg"]
			])

		var tectospinal = new Map([
			["name", "Τετράδυμονωτιαιο δεμάτιο"],
			["crossing", "Χιάζεται στην έκφυσή του"],
			["function", "Αντανακλαστικές κινήσεις στάσης, ως απάντηση σε οπτκά ερεθίσματα"],
			["passing", "Πρόσθιο (άνω) διδύμιο"],
			["ending", "Συνδετικοί νευρώνες των πρόσθιων κεράτων ανώτερων αυχενικών νευροτομίων"],
			["position", "6"],
			["type", "Κατιόν"],
			["img", "images/Tracts.jpg"]
			])

		var rubrospinal = new Map([
			["name", "Ερυθρονωτιαίο δεμάτιο"],
			["crossing", "Χιάζεται στην έκφυσή του"],
			["function", "Ευοδώνει τους καμπτήρες και αναστέλλει τους εκτείνοντες ή αντιτιθέμενους στη βαρύτητα μύες"],
			["passing", "Ερυθρός πυρήνας"],
			["ending", "Συνδετικοί νευρώνες των πρόσθιων κεράτων του νωτιαίου µυελού"],
			["position", "1"],
			["type", "Κατιόν"],
			["img", "images/Tracts.jpg"]
			])

		var vestibulospinal = new Map([
			["name", "Αιθουσονωτιαίο δεμάτιο"],
			["crossing", "Δεν χιάζεται"],
			["function", "Ευοδώνει τους εκτείνοντες και αναστέλλει τους καμπτήρες μύες που σχετίζονται με την ισορροπία"],
			["passing", "Αιθουσαίοι πυρήνες"],
			["ending", "Συνδετικοί νευρώνες των πρόσθιων κεράτων του νωτιαίου µυελού"],
			["position", "5"],
			["type", "Κατιόν"],
			["img", "images/Tracts.jpg"]
			])

		//Supplementary for Spinal Tracts
		var spinal_tracts = [lateral_spinothalamic, ventral_spinothalamic, fasciculus_cuneatus, fasciculus_cuneatus, dorsal_spinocerebellar, ventral_spinocerebellar, spinoreticular, spinotectal, Spino_olivary, lateral_corticospinal, anterior_corticospinal, medial_reticulospinal, lateral_reticulospinal, tectospinal, rubrospinal, vestibulospinal];

		var st_questions_text = new Map([
			["name", "Πως λέγεται η δομή με αριθμό "],
			["crossing", "Τι ισχύει για τον χιασμό στο "],
			["passing", "Από που διέρχεται το "],
			["ending", "Που καταλήγει το "],
			["function", "Ποιά λειτουργία αντιστοιχεί στο "],
			["position", "Ποιός αριθμός αντιστοιχεί στο "],
			["type", "Τι είδους είναι το "],
			["img", "images/Tracts.jpg"]
			])

		var st_questions = ["crossing", "passing", "ending", "position", "type", "function"];

		//Στελεχος
		var pyramidDecussation_img1 = new Map([
			["1", "Οπίσθια μέση αύλακα"],
			["2", "Ισχνό δεμάτιο"],
			["3", "Ισχνός πυρήνας"],
			["4", "Σφηνοειδές δεμάτιο"],
			["5", "Σφηνοειδής πυρήνας"],
			["6", "Νωτιαία δεσμίδα του τριδύμου"],
			["7", "Νωτιαίος πυρήνας του τριδύμου"],
			["8", "Νωτιαία μοίρα παραπληρωματικού νεύρου"],
			["9", "Έσω επιμήκης δεσμίδα"],
			["10", "Έσω επικουρικός ελαιικός πυρήνας"],
			["11", "Χιασμός των πυραμίδων"],
			["12", "Πρόσθια μέση αύλακα"],
			["13", "Πυραμίδα"],
			["14", "Κεντρικός σωλήνας"],
			["15", "Πρόσθιο Νωτιαιοπαρεγκεφαλιδικό δεμάτιο"],
			["16", "Πλάγιο Νωτιαιοθαλαμικό δεμάτιο"],
			["17", "Οπίσθιο Νωτιαιοπαρεγκεφαλιδικό δεμάτιο"],
			["18", "Πλάγιο φλοιονωτιαίο δεμάτιο"],
			["img", "images/PyrDec1.jpg"]
			])

		var pyramidDecussation_img2 = new Map ([
			["1", "Σφηνοειδές δεμάτιο"],
			["2", "Νωτιαία δεσμίδα του τριδύμου"],
			["3", "Νωτιαίος πυρήνας του τριδύμου"],
			["4", "Οπίσθιο Νωτιαιοπαρεγκεφαλιδικό δεμάτιο"],
			["5", "Πρόσθιο Νωτιαιοπαρεγκεφαλιδικό δεμάτιο"],
			["6", "Χιασμός των πυραμίδων"],
			["7", "Πρόσθιο κέρας φαιάς ουσίας"],
			["8", "Πλάγιο φλοιονωτιαίο δεμάτιο"],
			["9", "Κεντρικός σωλήνας"],
			["10", "Σφηνοειδής πυρήνας"],
			["11", "Ισχνός πυρήνας"],
			["12", "Οπίσθια μέση αύλακα"],
			["13", "Ισχνό δεμάτιο"],
			["img", "images/PyrDec2.jpg"]
			])

		var lemnisciDecussation_img1 = new Map ([
			["1", "Ισχνός πυρήνας"],
			["2", "Σφηνοειδές δεμάτιο"],
			["3", "Σφηνοειδής πυρήνας"],
			["4", "Έσω τοξοειδείς ίνες"],
			["5", "Νωτιαία δεσμίδα του τριδύμου"],
			["6", "Νωτιαίος πυρήνας του τριδύμου"],
			["7", "Προμηκική μοίρα παραπληρωματικού νεύρου"],
			["8", "Κάτω ελαιικός πυρήνας"],
			["9", "Υπογλώσσιο νεύρο"],
			["10", "Πυραμίδα"],
			["11", "Χιασμός του έσω λημνίσκου"],
			["12", "Πρόσθιο Νωτιαιοπαρεγκεφαλιδικό δεμάτιο"],
			["13", "Πλάγιο Νωτιαιοθαλαμικό δεμάτιο"],
			["14", "Οπίσθιο Νωτιαιοπαρεγκεφαλιδικό δεμάτιο"],
			["15", "Έσω επιμήκης δεσμίδα"],
			["16", "Πυρήνας του υπογλωσσίου νεύρου"],
			["17", "Κεντρικός σωλήνας"],
			["18", "Ισχνό δεμάτιο"],
			["img", "images/LemnDec1.jpg"]
			])

		var lemnisciDecussation_img2 = new Map ([
			["1", "Σφηνοειδής πυρήνας"],
			["2", "Σφηνοειδές δεμάτιο"],
			["3", "Νωτιαία δεσμίδα του τριδύμου"],
			["4", "Νωτιαίος πυρήνας του τριδύμου"],
			["5", "Δικτυωτός σχηματισμός"],
			["6", "Πυραμίδα"],
			["7", "Πρόσθια μέση αύλακα"],
			["8", "Χιασμός των έσω λημνίσκων"],
			["9", "Κεντρικός σωλήνας"],
			["10", "Έσω τοξοειδείς ίνες"],
			["11", "Οπίσθια μέση αύλακα"],
			["12", "Ισχνό δεμάτιο"],
			["13", "Ισχνός πυρήνας"],
			["img", "images/PyrDec2.jpg"]
			])

		var medialOlivary_img1 = new Map ([
			["1", "Οπίσθιο μυέλινο ιστίο"],
			["2", "Κοιλότητα 4ης κοιλίας"],
			["3", "Έσω αιθουσαίος πυρήνας"],
			["4", "Ραχιαίος κοιλιακός πυρήνας"],
			["5", "Κάτω αιθουσαίος πυρήνας"],
			["6", "Κάτω παρεγκεφαλιδικό σκέλος"],
			["7", "Κοιλιακός κοχλικός πυρήνας"],
			["8", "Πνευμονογαστρικό νεύρο"],
			["9", "Ραχιαίος επικουρικός ελαιικός πυρήνας"],
			["10", "Κάτω ελαιικός πυρήνας"],
			["11", "Έσω επικουρικός ελαιικός πυρήνας"],
			["12", "Υπογλώσσιο νεύρο"],
			["13", "Πυραμίδα"],
			["14", "Τοξοειδείς πυρήνες"],
			["15", "Πρόσθια μέση αύλακα"],
			["16", "Ελαία"],
			["17", "Έσω λημνίσκος"],
			["18", "Τετράδυμονωτιαιο δεμάτιο"],
			["19", "Πλάγιο νωτιαιοθαλαμικό δεμάτιο"],
			["20", "Πρόσθιο νωτιαιοπαρεγκεφαλιδικό δεμάτιο"],
			["21", "Μεικτός πυρήνας"],
			["22", "Νωτιαία δεσμίδα και νωτιαίος πυρήνας του τριδύμου"],
			["23", "Δικτυωτός σχηματισμός"],
			["24", "Πυρήνας της μονήρους δεσμίδας"],
			["25", "Ραχιαίος πυρήνας του πνευμονογαστρικού"],
			["26", "Πυρήνας του υπογλωσσίου"],
			["27", "Έσω επιμήκης δεσμίδα"],
			["img", "images/MidOliv1.jpg"]
			])

		var medialOlivary_img2 = new Map ([
			["1", "Πυρήνας της μονήρους δεσμίδας"],
			["2", "Έσω επιμήκης δεσμίδα"],
			["3", "Τετράδυμονωτιαιο δεμάτιο"],
			["4", "Νωτιαία δεσμίδα και νωτιαίος πυρήνας του τριδύμου"],
			["5", "Έσω λημνίσκος"],
			["6", "Έσω επικουρικός ελαιικός πυρήνας"],
			["7", "Πυραμίδα"],
			["8", "Κάτω ελαιικός πυρήνας"],
			["9", "Στατικοακουστικό νεύρο"],
			["10", "Ραχιαίος επικουρικός ελαιικός πυρήνας"],
			["11", "Δικτυωτός σχηματισμός"],
			["12", "Ραχιαίος κοχλικός πυρήνας"],
			["13", "Κάτω παρεγκεφαλιδικό σκέλος"],
			["img", "images/MidOliv2.jpg"],
			])

		var topOlivary_img1 = new Map ([
			["1", "Κοιλότητα 4ης κοιλίας"],
			["2", "Έσω αιθουσαίος πυρήνας"],
			["3", "Έξω αιθουσαίος πυρήνας"],
			["4", "Ραχιαίος κοιλιακός πυρήνας"],
			["5", "Κάτω παρεγκεφαλιδικό σκέλος"],
			["6", "Νωτιαία δεσμίδα και νωτιαίος πυρήνας του τριδύμου"],
			["7", "Κοιλιακός κοχλικός πυρήνας"],
			["8", "Κάτω ελαιικός πυρήνας"],
			["9", "Πυραμίδα"],
			["10", "Τοξοειδείς πυρήνες"],
			["11", "Έσω λημνίσκος"],
			["12", "Τετράδυμονωτιαιο δεμάτιο"],
			["13", "Πλάγιο νωτιαιοθαλαμικό δεμάτιο"],
			["14", "Πρόσθιο νωτιαιοπαρεγκεφαλιδικό δεμάτιο"],
			["15", "Μεικτός πυρήνας"],
			["16", "Δικτυωτός σχηματισμός"],
			["17", "Έσω επιμήκης δεσμίδα"],
			["18", "Ραχιαίος πυρήνας του πνευμονογαστρικού"],
			["19", "Πυρήνας του υπογλωσσίου"],
			["20", "Οπίσθιο μυέλινο ιστίο"],
			["img", "images/TopOliv1.jpg"],
			])

		var cranialNuclei_img1 = new Map ([
			["1", "Μεσεγκεφαλικός πυρήνας του τριδύμου"],
			["2", "Οφθαλμικό νεύρο"],
			["3", "Άνω γναθικό νεύρο"],
			["4", "Κάτω γναθικό νεύρο"],
			["5", "Μηνοειδές γάγγλιο του τριδύμου νεύρου"],
			["6", "Αισθητική ρίζα του τριδύμου νεύρου"],
			["7", "Κύριος αισθητικός πυρήνας του τριδύμου νεύρου"],
			["8", "Ραχιαίος κοχλικός πυρήνας"],
			["9", "Νωτιαίος πυρήνας του τριδύμου νεύρου"],
			["10", "Πυρήνας της μονήρους δεσμίδας"],
			["11", "Πηκτωματώδης ουσία"],
			["12", "Πρόσθιο κέρας της φαιάς ουσίας"],
			["13", "Πυρήνας του υπογλωσσίου νεύρου"],
			["14", "Ραχιαίος πυρήνας του πνευμονογαστρικού"],
			["15", "Μεικτός πυρήνας"],
			["16", "Κάτω σιαλικός πυρήνας"],
			["17", "Άνω σιαλικός πυρήνας"],
			["18", "Κινητικός πυρήνας του προσωπικού νεύρου"],
			["19", "Πυρήνας του απαγωγού νεύρου"],
			["20", "Κινητικός πυρήνας του τριδύμου νεύρου"],
			["21", "Πυρήνας του τροχιλιακού νεύρου"],
			["22", "Πυρήνας του κοινού κινητικού νεύρου"],
			["img", "images/CranNuc1.jpg"]
			])

		var facialColliculus_img1 = new Map ([
			["1", "Κοιλότητα της 4ης κοιλίας"],
			["2", "Πρόσθιο μυέλινο ιστίο"],
			["3", "Άνω παρεγκεφαλιδικό σκέλος"],
			["4", "Αιθουσαίοι πυρήνες"],
			["5", "Κάτω παρεγκεφαλιδικό σκέλος"],
			["6", "Δικτυωτός σχηματισμός"],
			["7", "Νωτιαία δεσμίδα και νωτιαίος πυρήνας του τριδύμου"],
			["8", "Εγκάρσιες γεφυρικές ίνες"],
			["9", "Δεσμίδες φλοιονωτιαίων και φλοιοπυρηνικών ινών"],
			["10", "Βασική αύλακα"],
			["11", "Τραπεζοειδές σώμα"],
			["12", "Απαγωγό νεύρο"],
			["13", "Προσωπικό νεύρο"],
			["14", "Έσω λημνίσκος"],
			["15", "Κινητικός πυρήνας του προσωπικού νεύρου"],
			["16", "Πυρήνας του απαγωγού νεύρου"],
			["17", "Προσωπικό λοφίδιο"],
			["18", "Έσω επιμήκης δεσμίδα"],
			["img", "images/FacialCol1.jpg"]
			])

		 var brainStem_img1 = new Map ([
		 	["1", "Τροχιλιακό νεύρο"],
			["2", "Μέσο παρεγκεφαλιδικό σκέλος"],
			["3", "Κάτω παρεγκεφαλιδικό σκέλος"],
			["4", "Μυέλινες χορδές"],
			["5", "Προσωπικό λοφίδιο"],
			["6", "Αιθουσαία άλως"],
			["7", "Μεθόριος αύλακα"],
			["8", "Περιμήκης εξοχή"],
			["9", "Άνω παρεγκεφαλιδικό σκέλος"],
			["10", "Μέση αύλακα"],
			["11", "Υπομέλας τόπος"],
			["img", "images/BrainStem1.jpg"]
		 	])

		 var brainStem_img2 = new Map ([
		 	["1", "Φακοειδής πυρήνας"],
			["2", "Έσω κάψα"],
			["3", "Κερκοφόρος πυρήνας"],
			["4", "Τελική ταινία"],
			["5", "Θάλαμος"],
			["6", "Προσκέφαλο του θαλάμου"],
			["7", "Στόμιο του υδραγωγού"],
			["8", "Περιμήκης εξοχή"],
			["9", "Μέση αύλακα"],
			["10", "Μυέλινες χορδές"],
			["11", "Αιθουσαία άλως"],
			["12", "Στόμιο του κεντρικού σωλήνα"],
			["13", "Οπίσθια μέση αύλακα"],
			["14", "Κεντρικός σωλήνας"],
			["15", "Ισχνός πυρήνας"],
			["16", "Σφηνοειδές φύμα"],
			["17", "Έδαφος της 4ης κοιλίας"],
			["18", "Προσωπικό λοφίδιο"],
			["19", "Μέσο παρεγκεφαλιδικό σκέλος"],
			["20", "Μεθόριος αύλακα"],
			["21", "Άνω παρεγκεφαλιδικό σκέλος"],
			["22", "Τροχιλιακό νεύρο"],
			["23", "Κάτω διδύμιο"],
			["24", "Άνω διδύμιο"],
			["25", "Κωνάριο"],
			["26", "Ηνία"],
			["27", "Μυελική ταινία του θαλάμου"],
			["28", "3η κοιλία"],
			["29", "Φλοιός των ημισφαιρίων"],
			["img", "images/BrainStem2.jpg"]
		 	])

		 var trigeminalNuclei_img1 = new Map ([
		 	["1", "Δικτυωτός σχηματισμός"],
			["2", "Έσω επιμήκης δεσμίδα"],
			["3", "Πρόσθιο μυέλινο ιστίο"],
			["4", "Άνω παρεγκεφαλιδικό σκέλος"],
			["5", "Κοιλότητα της 4ης κοιλίας"],
			["6", "Κινητικός πυρήνας του τριδύμου νεύρου"],
			["7", "Κύριος αισθητικός πυρήνας του τριδύμου"],
			["8", "Γεφυρικοί πυρήνες"],
			["9", "Μέσο παρεγκεφαλιδικό σκέλος"],
			["10", "Αισθητική ρίζα του τριδύμου νεύρου"],
			["11", "Κινητική ρίζα του τριδύμου νεύρου"],
			["12", "Εγκάρσιες γεφυρικές ίνες"],
			["13", "Δεσμίδες φλοιονωτιαίων και φλοιοπυρηνικών ινών"],
			["14", "Τραπεζοειδές σώμα"],
			["15", "Έσω λημνίσκος"],
			["16", "Έξω λημνίσκος"],
			["img", "images/TriNuc1.jpg"],
		 	])

		 var dorsalPons_img1 = new Map ([
		 	["1", "Παρεγκεφαλίδα"],
			["2", "Πρόσθιο μυέλινο ιστίο"],
			["3", "Άνω παρεγκεφαλιδικό σκέλος"],
			["4", "Κύριος αισθητικός πυρήνας του τριδύμου"],
			["5", "Κινητικός πυρήνας του τριδύμου νεύρου"],
			["6", "Μέσο παρεγκεφαλιδικό σκέλος"],
			["7", "Έσω λημνίσκος"],
			["8", "Εγκάρσιες γεφυρικές ίνες"],
			["9", "Γεφυρικοί πυρήνες"],
			["10", "Δεσμίδες φλοιονωτιαίων και φλοιοπυρηνικών ινών"],
			["11", "Έσω επιμήκης δεσμίδα"],
			["12", "Κοιλότητα της 4ης κοιλίας"],
			["img", "images/DorPons1.jpg"]
		 	])

		 var inferiorColliculi_img1 = new Map ([
		 	["1", "Τροχιλιακό νεύρο"],
			["2", "Οπίσθιο διδύμιο"],
			["3", "Υδραγωγός του εγκεφάλου"],
			["4", "Κεντρική φαιά ουσία"],
			["5", "Μεσεγκεφαλικός πυρήνας του τριδύμου νεύρου"],
			["6", "Έξω λημνίσκος"],
			["7", "Πυρήνας του τροχιλιακού νεύρου"],
			["8", "Λημνίσκος του τριδύμου νεύρου"],
			["9", "Νωτιαίος λημνίσκος"],
			["10", "Έσω λημνίσκος"],
			["11", "Κροταφογεφυρικές ίνες"],
			["12", "Έσω επιμήκης δεσμίδα"],
			["13", "Δικτυωτός σχηματισμός"],
			["14", "Φλοιονωτιαίες και φλοιοπυρηνικές ίνες"],
			["15", "Χιασμός των άνω παρεγκεφαλιδικών σκελών"],
			["16", "Μετωπογεφυρικές ίνες"],
			["17", "Μεσοσκελιαίος βόθρος"],
			["18", "Μέλαινα ουσία"],
			["img", "images/InfCol1.jpg"]
		 	])

		 var superiorColliculi_img1 = new Map ([
		 	["1", "Πρόσθιο διδύμιο"],
			["2", "Υδραγωγός του εγκεφάλου"],
			["3", "Κεντρική φαιά ουσία"],
			["4", "Μεσεγκεφαλικός πυρήνας του τριδύμου νεύρου"],
			["5", "Πυρήνας του κοινού κινητικού νεύρου"],
			["6", "Έσω επιμήκης δεσμίδα"],
			["7", "Δικτυωτός σχηματισμός"],
			["8", "Ερυθρός πυρήνας"],
			["9", "Μέλαινα ουσία"],
			["10", "Χιασμός των ερυθρονωτιαίων δεματίων"],
			["11", "Κοινό κινητικό νεύρο"],
			["12", "Μετωπογεφυρικές ίνες"],
			["13", "Φλοιονωτιαίες και φλοιοπυρηνικές ίνες"],
			["14", "Κροταφογεφυρικές ίνες"],
			["15", "Έσω λημνίσκος"],
			["16", "Νωτιαίος λημνίσκος"],
			["17", "Λημνίσκος του τριδύμου"],
			["img", "images/SupCol1.jpg"]
		 	])

		 var midbrainInferior_img1 = new Map ([
		 	["1", "Υδραγωγός του εγκεφάλου"],
			["2", "Κεντρική φαιά ουσία"],
			["3", "Πυρήνας του τροχιλιακού νεύρου"],
			["4", "Έσω επιμήκης δεσμίδα"],
			["5", "Δικτυωτός σχηματισμός"],
			["6", "Ίνες του άνω παρεγκεφαλιδικού σκέλους"],
			["7", "Χιασμός των άνω παρεγκεφαλιδικών σκελών"],
			["8", "Μέλαινα ουσία"],
			["9", "Μεσοσκελιαίος βόθρος"],
			["10", "Μετωπογεφυρικές ίνες"],
			["11", "Φλοιονωτιαίες και φλοιοπυρηνικές ίνες"],
			["12", "Κροταφογεφυρικές ίνες"],
			["13", "Έσω λημνίσκος"],
			["14", "Έξω λημνίσκος"],
			["15", "Μεσεγκεφαλικός πυρήνας του τριδύμου νεύρου"],
			["16", "Οπίσθιο διδύμιο"],
			["img", "images/MidBrainInf1.jpg"]
		 	])

		 var midbrainSuperior_img1 = new Map ([
		 	["1", "Πρόσθιο διδύμιο"],
			["2", "Υδραγωγός του εγκεφάλου"],
			["3", "Κεντρική φαιά ουσία"],
			["4", "Πυρήνας του κοινού κινητικού νεύρου"],
			["5", "Δικτυωτός σχηματισμός"],
			["6", "Ερυθρός πυρήνας"],
			["7", "Μέλαινα ουσία"],
			["8", "Χιασμός των ερυθρονωτιαίων δεματίων"],
			["9", "Μαστία"],
			["10", "Μεσοσκελιαίος βόθρος"],
			["11", "Μετωπογεφυρικές ίνες"],
			["12", "Φλοιονωτιαίες και φλοιοπυρηνικές ίνες"],
			["13", "Κροταφογεφυρικές ίνες"],
			["14", "Έσω λημνίσκος"],
			["15", "Έξω λημνίσκος"],
			["16", "Έσω επιμήκης δεσμίδα"],
			["img", "images/MidBrainSup1.jpg"]
		 	])

		//Supplementary for Image-orientated
		var image_questions_text = ["Πώς λέγεται η δομή "]

		var image_questions = [pyramidDecussation_img1, pyramidDecussation_img2, lemnisciDecussation_img1, lemnisciDecussation_img2, medialOlivary_img1, medialOlivary_img2, topOlivary_img1, cranialNuclei_img1, facialColliculus_img1, brainStem_img1, trigeminalNuclei_img1, dorsalPons_img1, inferiorColliculi_img1, superiorColliculi_img1, brainStem_img2, midbrainInferior_img1, midbrainSuperior_img1];

		//Required for custom quiz
		var cn_q = [cn_questions, cranial_nerves, cn_questions_text];

		var st_q = [st_questions, spinal_tracts, st_questions_text];

		var image_q = [image_questions, image_questions_text];

		var initial_categories = [cn_q, st_q, image_q];

		//General Variables
		var question_categories = [];

		var answerChoices = new Set();

		var previousQuestions = new Set();

		var correctAnswerText;

		var pressedCount = 0;

		var score = 0;

		var maxScore = 0;

		var answerCount = 0;

		var questionCount = 0;

		var chosenBefore = new Set();

		//generateQuestion()

		function customQuestions(change) {
			if (TOTAL_QUESTIONS + change > 0) {
				TOTAL_QUESTIONS += change;
				document.getElementById('qCustom').innerHTML = TOTAL_QUESTIONS;
				document.getElementById('qNumber').innerHTML = TOTAL_QUESTIONS;
			}

			return TOTAL_QUESTIONS;
		}

		function customAnswers(change) {
			if (OPTIONS + change > 1) {
				OPTIONS += change;
				document.getElementById('aCustom').innerHTML = OPTIONS;
				document.getElementById('aNumber').innerHTML = OPTIONS;
			}

			return OPTIONS;
		}

		function check(checked = true) {
		    var cbs = document.querySelectorAll('input[name="modalCheckbox"]');
		    cbs.forEach((cb) => {
		        cb.checked = checked;
		    });
		}

		function checkAll() {
		    check();
		    document.getElementById('allButton').style.display = "none";
		    document.getElementById('uncheckAllButton').style.display = "inline";
		}

		function uncheckAll() {
		    check(false);
		    document.getElementById('uncheckAllButton').style.display = "none";
		    document.getElementById('allButton').style.display = "inline";
		}

		function startCustom() {
			var checkboxes = document.querySelectorAll('input[name="modalCheckbox"]');
			var checkedCount = 0;

			for (cb of checkboxes) {
				if (cb.checked) {

					checkedCount ++;

					switch (cb.value) {
						case "Cranial Nerves":
							question_categories.push(cn_q)
							break;
						case "Spinal Tracts":
							question_categories.push(st_q)
							break;
						case "Image Orientated":
							question_categories.push(image_q)
							break;
					}
				}
			}

			if (checkedCount > 0) {
				document.getElementById('verify').style.display = "inline"
				generateQuestion();
				modal.style.display = "none";
			}else{
				alert("Δεν έχει επιλεγεί καμία κατηγορία ερωτήσεων");
			}
		}

		// Get the modal
		var modal = document.getElementById("myModal");

		// Get the <span> element that closes the modal
		var span = document.getElementsByClassName("close")[0];

		function openModal() {
		  modal.style.display = "block";

		  //Position footer
		  document.getElementById('main-footer').style.position = "fixed";
		}

		// When the user clicks on <span> (x), close the modal
		span.onclick = function() {
		  modal.style.display = "none";
		  location.href = "index.html";

		}

		function setQuestions(change) {
			if (TOTAL_QUESTIONS + change > questionCount) {
				TOTAL_QUESTIONS += change;
				document.getElementById('qNumber').innerHTML = TOTAL_QUESTIONS;
			}

			return TOTAL_QUESTIONS;
		}

		function setAnswers(change) {
			if (OPTIONS > 2 || OPTIONS == 2 && change > 0) {
				OPTIONS += change;
				document.getElementById('aNumber').innerHTML = OPTIONS;
			}

			return OPTIONS;
		}

		function dropDown() {
			document.getElementById('dropDown').classList.toggle("show");
		}

		// Close the dropdown if the user clicks outside of it
		window.onclick = function(event) {
		  if (!event.target.matches('.dropbtn') && !event.target.matches('.plus_btn') && !event.target.matches('.minus_btn')) {
		    var dropdowns = document.getElementsByClassName("dropdown-content");
		    var i;
		    for (i = 0; i < dropdowns.length; i++) {
		      var openDropdown = dropdowns[i];
		      if (openDropdown.classList.contains('show')) {
		        openDropdown.classList.remove('show');
		      }
		    }
		  }
		}

		function newQuiz(){
			location.href = "customQuiz.html";
		}

		function endScreen(){
			document.getElementById('question').style.textAlign = "center";
			document.getElementById('questionText').innerHTML = "Συγχαρητήρια ολοκλήρωσες το Quiz !";
			document.getElementById('score').innerHTML = score + "/" + maxScore;
			document.getElementById('scoreText').innerHTML = "Final Score";
			document.getElementById('questionNumber').innerHTML = null;
			document.getElementById('verify').style.display = "none";
			document.getElementById('newQuiz').style.display = "inline";
			document.getElementById('return').style.display = "block";
			document.querySelector("div[class='container'] img").style.width = "40%";

			//Position footer
			document.getElementById('main-footer').style.position = "fixed";
		}

		function removeAllChildNodes(parent) {
		    while (parent.firstChild) {
		        parent.removeChild(parent.firstChild);
		    }
		}

		function nextQuestion(){
			
			//Reset for next question
			removeAllChildNodes(answerOptions);
			answerChoices.clear();
			chosenBefore.clear();
			document.getElementById('verify').style.display = "inline"
			document.getElementById('next').style.display = "none"
			document.getElementById('result').innerHTML = null
			document.getElementById('question_img').style.display = "none";
			pressedCount = 0;
			answerCount = 0;

			if (questionCount == TOTAL_QUESTIONS){
				endScreen();
			}else{
				generateQuestion();
			}
		}

		function verify(){

			let radioButtonList = document.querySelectorAll('input[name="option"]');

			for (rb of radioButtonList){
				if (rb.checked){
					if (!chosenBefore.has(rb.value)) {
						pressedCount ++ 
					}else{
						break;
					}

					if (rb.value == correctAnswerText){
						document.getElementById('result').innerHTML = "Σωστά!";
						document.getElementById('result').style.color = "green";
						document.getElementById('verify').style.display = "none";
						document.getElementById('next').style.display = "inline";

						//Calculate score
						maxScore = maxScore + answerCount - 1;

						var scoreChange = answerCount - 1 - pressedCount + 1
						if (scoreChange > 0){
							score = score + scoreChange;
							document.getElementById('score').innerHTML = score
						}

					}else{
						document.getElementById('result').innerHTML = "Οχι... Προσπάθησε ξανά";
						document.getElementById('result').style.color = "red";
						chosenBefore.add(rb.value);
					}
				}
			}

			//Position footer
			if (document.getElementById('main-left').offsetHeight < 600){
				document.getElementById('main-footer').style.position = "fixed";
			}else{
				document.getElementById('main-footer').style.position = "relative";
			}
		}

		function shuffle(arr){
			for (var i = arr.length - 1; i > 0; i--) {  
    
		       // Generate random number  
		       var j = Math.floor(Math.random() * (i + 1)); 
		                    
		       var temp = arr[i]; 
		       arr[i] = arr[j]; 
		       arr[j] = temp; 
		   	} 
        
   			return arr; 
		}

		function showAnswers(answerArray) {
			for (answer of answerArray){
		    	let option = document.createElement('input');
		    	option.type = 'radio';
  				option.name = 'option';
  				option.value = answer;

  				let textHolder = document.createElement('label')
  				textHolder.htmlFor = 'option';
  				textHolder.class = 'answerText'

  				let optionText = document.createTextNode(answer);
  				textHolder.appendChild(optionText);

				let optionHolderLi = document.createElement('li');
				optionHolderLi.appendChild(option);
				optionHolderLi.appendChild(textHolder);

				let optionHolderUl = document.getElementById('answerOptions');
				optionHolderUl.appendChild(optionHolderLi);

				//Number of answers
				answerCount ++;
			}

			//Position footer
			if (document.getElementById('main-left').offsetHeight < 600){
				document.getElementById('main-footer').style.position = "fixed";
			}else{
				document.getElementById('main-footer').style.position = "relative";
			}
		}

		function buildAnswers(GeneralContent, QuestionContent, QuestionCategory){

			//create correct answer
			if (QuestionCategory == "nuclei"){
				let possibleAnswers = QuestionContent.get("nuclei");
				correctAnswerText = possibleAnswers[Math.floor(Math.random()*possibleAnswers.length)];
			}else{
				correctAnswerText = QuestionContent.get(QuestionCategory)
			}
			answerChoices.add(correctAnswerText);

			//Remove duplicate answers
			generalAnswerContent = [...GeneralContent];
			questionContent_index = generalAnswerContent.indexOf(QuestionContent);
			generalAnswerContent.splice(questionContent_index, 1); // returns the array without the questionContent_index

			for (let specificContent of generalAnswerContent){
				if (specificContent.get(QuestionCategory) == correctAnswerText){
					let specificContent_index = generalAnswerContent.indexOf(specificContent);
					generalAnswerContent.splice(specificContent_index, 1);
				}
			}

			//create wrong answers
			for (i = 0; i < OPTIONS - 1; i++){

				if (generalAnswerContent.length == 0){
					break;
				}

				//get a specific content from the generalAnswerContent (f. ex. cn_II from cranial_nerves)
				let specificContent = generalAnswerContent[Math.floor(Math.random()*generalAnswerContent.length)];
				if (QuestionCategory == "nuclei"){
					let possibleAnswers = specificContent.get("nuclei");
					var wrongAnswerText = possibleAnswers[Math.floor(Math.random()*possibleAnswers.length)];
				}else{
					var wrongAnswerText = specificContent.get(QuestionCategory)
				}
				answerChoices.add(wrongAnswerText);
				//Remove specificContent from generalAnswerContent
				specificContent_index = generalAnswerContent.indexOf(specificContent);
				generalAnswerContent.splice(specificContent_index, 1);

				for (let specificContent of generalAnswerContent){
					if (specificContent.get(QuestionCategory) == wrongAnswerText){
						let specificContent_index = generalAnswerContent.indexOf(specificContent);
						generalAnswerContent.splice(specificContent_index, 1);
					}
				}
			}

			shuffle(answerChoices);
			showAnswers(answerChoices);
		}

		function buildImageAnswers(ImageContent, ImageKey, KeyArray) {

			//create correct answer
			correctAnswerText = ImageContent.get(ImageKey);
			answerChoices.add(correctAnswerText);

			//Delete this map element, to avoid duplicate question
			ImageContent.delete(ImageKey);
			let usedKey_index = KeyArray.indexOf(ImageKey);
			KeyArray.splice(usedKey_index, 1);

			//create wrong answers
			for (i = 0; i < OPTIONS - 1; i++){

				if (KeyArray.length == 0){
					break;
				}

				//Wrong answer text
				wrongKey = KeyArray[Math.floor(Math.random()*KeyArray.length)];
				var wrongAnswerText = ImageContent.get(wrongKey);
				answerChoices.add(wrongAnswerText);

				//Remove used key to avoid duplicate answers
				let usedKey_index = KeyArray.indexOf(wrongKey);
				KeyArray.splice(usedKey_index, 1);

			}

			shuffle(answerChoices);
			showAnswers(answerChoices);
		}

		function buildQuestion(QuestionContent, QuestionCategory, QuestionText){

			questionCount ++;

			//if (QuestionCategory == "name"){
				//var categoryText = QuestionText.get(QuestionCategory)+ QuestionContent.get("#")+";";
			if (QuestionCategory == "position"){
				let image_src = QuestionContent.get("img");
				document.getElementById('question_img').src = image_src;
				document.getElementById('question_img').style.display = "block";
				var categoryText = QuestionText.get(QuestionCategory) + QuestionContent.get("name")+";";
			}else{
				var categoryText = QuestionText.get(QuestionCategory) + QuestionContent.get("name")+";";
			}

			//Show the question
			if (previousQuestions.has(categoryText)){
				nextQuestion();
			}else{
				document.getElementById('questionText').innerHTML = categoryText;
				document.getElementById('questionNumber').innerHTML = "Ερώτηση "+ questionCount+ "/"+ TOTAL_QUESTIONS +": ";
				previousQuestions.add(categoryText);
			}
		}

		function buildImageQuestion(ImageContent, ImageKey){
			questionCount ++;

			let image_src = ImageContent.get("img");
			document.getElementById('question_img').src = image_src;
			document.getElementById('question_img').style.display = "block";
			var categoryText = image_questions_text[0] + ImageKey + " ;";

			//Show the question
			document.getElementById('questionText').innerHTML = categoryText;
			document.getElementById('questionNumber').innerHTML = "Ερώτηση "+ questionCount+ "/"+ TOTAL_QUESTIONS +": ";
			
		}

		function generateQuestion(){

			//pick the question category
			let randomCategory = question_categories[Math.floor(Math.random()*question_categories.length)];

			//Image-orientated questions
			if (randomCategory == image_q){

				//pick a random Image
				let allImages = randomCategory[0]
				let imageContent = allImages[Math.floor(Math.random()*allImages.length)];

				//Pick a random key of chosen Image
				let keyArray = [];

				for (key of imageContent.keys()) {
					keyArray.push(key);
				}

				//Remove the img from the keys
				keyArray.pop();

				let randomKey = keyArray[Math.floor(Math.random()*keyArray.length)];

				//Create text of Image question
				buildImageQuestion(imageContent, randomKey);

				//Create text of Image answers
				buildImageAnswers(imageContent, randomKey, keyArray)
			}else{

				//pick a random subcategory of randomCategory
				let subcategories = randomCategory[0]
				let randomSubcategory = subcategories[Math.floor(Math.random()*subcategories.length)];

				//pick the content of the question
				let allContent = randomCategory[1]
				let randomContent = allContent[Math.floor(Math.random()*allContent.length)];

				//Main text of the question
				let mainText = randomCategory[2]

				//create the text of the question
				buildQuestion(randomContent, randomSubcategory, mainText);

				//create the text of the answers
				buildAnswers(allContent, randomContent, randomSubcategory);
			}
		}

	</script>


	<!--Developed by Konstantinos Vrettos -->

</body>
</html>
